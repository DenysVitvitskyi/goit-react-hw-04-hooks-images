(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={wrap:"Button_wrap__31IdF",button:"Button_button__2ohbS"}},12:function(e,t,a){e.exports={overlay:"Modal_overlay__3PBWY",modal:"Modal_modal__3huFR"}},13:function(e,t,a){e.exports={wrap:"Message_wrap__15SRL",title:"Message_title__155TG"}},15:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__z3Rhp"}},17:function(e,t,a){e.exports={wrap:"Spiner_wrap__2HqEb"}},22:function(e,t,a){},4:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2K5f1",searchForm:"Searchbar_searchForm__GUFRn","searchForm-button":"Searchbar_searchForm-button__17lVE","searchForm-button-label":"Searchbar_searchForm-button-label__1vvTM","searchForm-input":"Searchbar_searchForm-input__1eZ62"}},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(6),o=a.n(r),i=(a(22),a(14)),s=a(3),l=a(4),u=a.n(l),m=a(0);function b(e){var t=e.onSubmitForm,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(m.jsx)("header",{className:u.a.searchbar,children:Object(m.jsxs)("form",{className:u.a.searchForm,onSubmit:function(e){""!==r&&(e.preventDefault(),t(r),o(""))},children:[Object(m.jsx)("button",{type:"submit",className:u.a["searchForm-button"],children:Object(m.jsx)("span",{className:u.a["searchForm-button-label"],children:"Search"})}),Object(m.jsx)("input",{value:r,onInput:function(e){o(e.target.value)},className:u.a["searchForm-input"],type:"text",placeholder:"Search images and photos"})]})})}var j=a(9),h=a.n(j);function d(e){var t=e.webformatURL,a=e.onSelectImg,n=e.largeImageURL;return Object(m.jsx)("li",{className:h.a.imageGalleryItem,onClick:function(){return a(n)},children:Object(m.jsx)("img",{src:t,alt:"",className:h.a["imageGalleryItem-image"]})})}var f=a(15),g=a.n(f);function O(e){var t=e.images,a=e.onSelectedImg;return Object(m.jsx)("ul",{className:g.a.imageGallery,children:t.map((function(e){return Object(m.jsx)(d,{largeImageURL:e.largeImageURL,webformatURL:e.webformatURL,onSelectImg:a},e.largeImageURL)}))})}var p=function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("22674819-1c6648e1bd9ba2423cbcfb506","&image_type=photo&orientation=horizontal&per_page=12"))},_=a(10),x=a.n(_);function v(e){var t=e.onClick;return Object(m.jsx)("div",{className:x.a.wrap,children:Object(m.jsx)("button",{type:"button",className:x.a.button,onClick:t,children:"Load more"})})}var S=a(16),F=a.n(S),y=a(17),I=a.n(y);function w(){return Object(m.jsx)("div",{className:I.a.wrap,children:Object(m.jsx)(F.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})}var G=a(11),N=a(12),L=a.n(N),k=document.querySelector("#modal-root");function C(e){var t=e.largeImg,a=e.onCloseModal;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),Object(G.a)(k),function(){window.removeEventListener("keydown",c),Object(G.b)(k)}}));var c=function(e){"Escape"===e.code&&a()};return Object(r.createPortal)(Object(m.jsx)("div",{className:L.a.overlay,onClick:function(e){e.target===e.currentTarget&&a()},children:Object(m.jsx)("div",{className:L.a.modal,children:Object(m.jsx)("img",{src:t,alt:"img"})})}),k)}var R=a(13),E=a.n(R);function M(e){var t=e.error;return Object(m.jsx)("div",{className:E.a.wrap,children:Object(m.jsx)("h1",{className:E.a.title,children:t||"Please, enter the correct name for your search"})})}a(44);var U="idle",B="pending",P="resolved",T="rejected",q="openModal";function z(){var e=Object(n.useState)(1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(s.a)(r,2),l=o[0],u=o[1],j=Object(n.useState)(""),h=Object(s.a)(j,2),d=h[0],f=h[1],g=Object(n.useState)(null),_=Object(s.a)(g,2),x=_[0],S=_[1],F=Object(n.useState)(U),y=Object(s.a)(F,2),I=y[0],G=y[1],N=Object(n.useState)(""),L=Object(s.a)(N,2),k=L[0],R=L[1];Object(n.useEffect)((function(){d&&p(d,a).then((function(e){return e.json()})).then((function(e){if(0===e.total)return G(T);u(e.hits),G(P)})).catch((function(e){R(e),G(T)}))}),[d]),Object(n.useEffect)((function(){1!==a&&p(d,a).then((function(e){return e.json()})).then((function(e){u((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),G(P)})).catch((function(e){R(e),G(T)}))}),[a]);var E=function(e){f(e),G(B),c(1)},z=function(e){S(e),G(q)};return I===U?Object(m.jsx)(b,{onSubmitForm:E}):I===B?Object(m.jsxs)("div",{children:[Object(m.jsx)(b,{onSubmitForm:E}),Object(m.jsx)(w,{})]}):I===P?Object(m.jsxs)("div",{children:[Object(m.jsx)(b,{onSubmitForm:E}),Object(m.jsx)(O,{images:l,onSelectedImg:z}),Object(m.jsx)(v,{onClick:function(){c((function(e){return e+1})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}})]}):I===q?Object(m.jsxs)("div",{children:[Object(m.jsx)(b,{onSubmitForm:E}),Object(m.jsx)(O,{images:l,onSelectedImg:z}),Object(m.jsx)(C,{largeImg:x,onCloseModal:function(){S(null),G(P)}})]}):I===T?Object(m.jsxs)("div",{children:[Object(m.jsx)(b,{onSubmitForm:E}),Object(m.jsx)(M,{error:k})]}):void 0}var D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,46)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(z,{})}),document.getElementById("root")),D()},9:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__28GlC","imageGalleryItem-image":"ImageGalleryItem_imageGalleryItem-image__3m94-"}}},[[45,1,2]]]);
//# sourceMappingURL=main.e4596ba3.chunk.js.map